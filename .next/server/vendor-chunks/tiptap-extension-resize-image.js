"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/tiptap-extension-resize-image";
exports.ids = ["vendor-chunks/tiptap-extension-resize-image"];
exports.modules = {

/***/ "(ssr)/./node_modules/tiptap-extension-resize-image/esm/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tiptap-extension-resize-image/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageResize: () => (/* binding */ ImageResize),\n/* harmony export */   \"default\": () => (/* binding */ ImageResize)\n/* harmony export */ });\n/* harmony import */ var _tiptap_extension_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/extension-image */ \"(ssr)/./node_modules/@tiptap/extension-image/dist/index.js\");\n\n\nconst ImageResize = _tiptap_extension_image__WEBPACK_IMPORTED_MODULE_0__[\"default\"].extend({\n    addAttributes() {\n        return {\n            src: {\n                default: null,\n            },\n            alt: {\n                default: null,\n            },\n            style: {\n                default: 'width: 100%; height: auto; cursor: pointer;',\n                parseHTML: (element) => {\n                    const width = element.getAttribute('width');\n                    return width\n                        ? `width: ${width}px; height: auto; cursor: pointer;`\n                        : `${element.style.cssText}`;\n                },\n            },\n            title: {\n                default: null,\n            },\n            loading: {\n                default: null,\n            },\n            srcset: {\n                default: null,\n            },\n            sizes: {\n                default: null,\n            },\n            crossorigin: {\n                default: null,\n            },\n            usemap: {\n                default: null,\n            },\n            ismap: {\n                default: null,\n            },\n            width: {\n                default: null,\n            },\n            height: {\n                default: null,\n            },\n            referrerpolicy: {\n                default: null,\n            },\n            longdesc: {\n                default: null,\n            },\n            decoding: {\n                default: null,\n            },\n            class: {\n                default: null,\n            },\n            id: {\n                default: null,\n            },\n            name: {\n                default: null,\n            },\n            draggable: {\n                default: true,\n            },\n            tabindex: {\n                default: null,\n            },\n            'aria-label': {\n                default: null,\n            },\n            'aria-labelledby': {\n                default: null,\n            },\n            'aria-describedby': {\n                default: null,\n            },\n        };\n    },\n    addNodeView() {\n        return ({ node, editor, getPos }) => {\n            const { view, options: { editable }, } = editor;\n            const { style } = node.attrs;\n            const $wrapper = document.createElement('div');\n            const $container = document.createElement('div');\n            const $img = document.createElement('img');\n            const iconStyle = 'width: 24px; height: 24px; cursor: pointer;';\n            const dispatchNodeView = () => {\n                if (typeof getPos === 'function') {\n                    const newAttrs = Object.assign(Object.assign({}, node.attrs), { style: `${$img.style.cssText}` });\n                    view.dispatch(view.state.tr.setNodeMarkup(getPos(), null, newAttrs));\n                }\n            };\n            const paintPositionContoller = () => {\n                const $postionController = document.createElement('div');\n                const $leftController = document.createElement('img');\n                const $centerController = document.createElement('img');\n                const $rightController = document.createElement('img');\n                const controllerMouseOver = (e) => {\n                    e.target.style.opacity = 0.3;\n                };\n                const controllerMouseOut = (e) => {\n                    e.target.style.opacity = 1;\n                };\n                $postionController.setAttribute('style', 'position: absolute; top: 0%; left: 50%; width: 100px; height: 25px; z-index: 999; background-color: rgba(255, 255, 255, 0.7); border-radius: 4px; border: 2px solid #6C6C6C; cursor: pointer; transform: translate(-50%, -50%); display: flex; justify-content: space-between; align-items: center; padding: 0 10px;');\n                $leftController.setAttribute('src', 'https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_left/default/20px.svg');\n                $leftController.setAttribute('style', iconStyle);\n                $leftController.addEventListener('mouseover', controllerMouseOver);\n                $leftController.addEventListener('mouseout', controllerMouseOut);\n                $centerController.setAttribute('src', 'https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_center/default/20px.svg');\n                $centerController.setAttribute('style', iconStyle);\n                $centerController.addEventListener('mouseover', controllerMouseOver);\n                $centerController.addEventListener('mouseout', controllerMouseOut);\n                $rightController.setAttribute('src', 'https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_right/default/20px.svg');\n                $rightController.setAttribute('style', iconStyle);\n                $rightController.addEventListener('mouseover', controllerMouseOver);\n                $rightController.addEventListener('mouseout', controllerMouseOut);\n                $leftController.addEventListener('click', () => {\n                    $img.setAttribute('style', `${$img.style.cssText} margin: 0 auto 0 0;`);\n                    dispatchNodeView();\n                });\n                $centerController.addEventListener('click', () => {\n                    $img.setAttribute('style', `${$img.style.cssText} margin: 0 auto;`);\n                    dispatchNodeView();\n                });\n                $rightController.addEventListener('click', () => {\n                    $img.setAttribute('style', `${$img.style.cssText} margin: 0 0 0 auto;`);\n                    dispatchNodeView();\n                });\n                $postionController.appendChild($leftController);\n                $postionController.appendChild($centerController);\n                $postionController.appendChild($rightController);\n                $container.appendChild($postionController);\n            };\n            $wrapper.setAttribute('style', `display: flex;`);\n            $wrapper.appendChild($container);\n            $container.setAttribute('style', `${style}`);\n            $container.appendChild($img);\n            Object.entries(node.attrs).forEach(([key, value]) => {\n                if (value === undefined || value === null)\n                    return;\n                $img.setAttribute(key, value);\n            });\n            if (!editable)\n                return { dom: $img };\n            const isMobile = document.documentElement.clientWidth < 768;\n            const dotPosition = isMobile ? '-8px' : '-4px';\n            const dotsPosition = [\n                `top: ${dotPosition}; left: ${dotPosition}; cursor: nwse-resize;`,\n                `top: ${dotPosition}; right: ${dotPosition}; cursor: nesw-resize;`,\n                `bottom: ${dotPosition}; left: ${dotPosition}; cursor: nesw-resize;`,\n                `bottom: ${dotPosition}; right: ${dotPosition}; cursor: nwse-resize;`,\n            ];\n            let isResizing = false;\n            let startX, startWidth;\n            $container.addEventListener('click', (e) => {\n                var _a;\n                //remove remaining dots and position controller\n                const isMobile = document.documentElement.clientWidth < 768;\n                isMobile && ((_a = document.querySelector('.ProseMirror-focused')) === null || _a === void 0 ? void 0 : _a.blur());\n                if ($container.childElementCount > 3) {\n                    for (let i = 0; i < 5; i++) {\n                        $container.removeChild($container.lastChild);\n                    }\n                }\n                paintPositionContoller();\n                $container.setAttribute('style', `position: relative; border: 1px dashed #6C6C6C; ${style} cursor: pointer;`);\n                Array.from({ length: 4 }, (_, index) => {\n                    const $dot = document.createElement('div');\n                    $dot.setAttribute('style', `position: absolute; width: ${isMobile ? 16 : 9}px; height: ${isMobile ? 16 : 9}px; border: 1.5px solid #6C6C6C; border-radius: 50%; ${dotsPosition[index]}`);\n                    $dot.addEventListener('mousedown', (e) => {\n                        e.preventDefault();\n                        isResizing = true;\n                        startX = e.clientX;\n                        startWidth = $container.offsetWidth;\n                        const onMouseMove = (e) => {\n                            if (!isResizing)\n                                return;\n                            const deltaX = index % 2 === 0 ? -(e.clientX - startX) : e.clientX - startX;\n                            const newWidth = startWidth + deltaX;\n                            $container.style.width = newWidth + 'px';\n                            $img.style.width = newWidth + 'px';\n                        };\n                        const onMouseUp = () => {\n                            if (isResizing) {\n                                isResizing = false;\n                            }\n                            dispatchNodeView();\n                            document.removeEventListener('mousemove', onMouseMove);\n                            document.removeEventListener('mouseup', onMouseUp);\n                        };\n                        document.addEventListener('mousemove', onMouseMove);\n                        document.addEventListener('mouseup', onMouseUp);\n                    });\n                    $dot.addEventListener('touchstart', (e) => {\n                        e.cancelable && e.preventDefault();\n                        isResizing = true;\n                        startX = e.touches[0].clientX;\n                        startWidth = $container.offsetWidth;\n                        const onTouchMove = (e) => {\n                            if (!isResizing)\n                                return;\n                            const deltaX = index % 2 === 0\n                                ? -(e.touches[0].clientX - startX)\n                                : e.touches[0].clientX - startX;\n                            const newWidth = startWidth + deltaX;\n                            $container.style.width = newWidth + 'px';\n                            $img.style.width = newWidth + 'px';\n                        };\n                        const onTouchEnd = () => {\n                            if (isResizing) {\n                                isResizing = false;\n                            }\n                            dispatchNodeView();\n                            document.removeEventListener('touchmove', onTouchMove);\n                            document.removeEventListener('touchend', onTouchEnd);\n                        };\n                        document.addEventListener('touchmove', onTouchMove);\n                        document.addEventListener('touchend', onTouchEnd);\n                    }, { passive: false });\n                    $container.appendChild($dot);\n                });\n            });\n            document.addEventListener('click', (e) => {\n                const $target = e.target;\n                const isClickInside = $container.contains($target) || $target.style.cssText === iconStyle;\n                if (!isClickInside) {\n                    const containerStyle = $container.getAttribute('style');\n                    const newStyle = containerStyle === null || containerStyle === void 0 ? void 0 : containerStyle.replace('border: 1px dashed #6C6C6C;', '');\n                    $container.setAttribute('style', newStyle);\n                    if ($container.childElementCount > 3) {\n                        for (let i = 0; i < 5; i++) {\n                            $container.removeChild($container.lastChild);\n                        }\n                    }\n                }\n            });\n            return {\n                dom: $wrapper,\n            };\n        };\n    },\n});\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGlwdGFwLWV4dGVuc2lvbi1yZXNpemUtaW1hZ2UvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0Qzs7QUFFNUMsb0JBQW9CLCtEQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx1Q0FBdUMsY0FBYyxnQkFBZ0I7QUFDckU7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLE1BQU0sSUFBSSxjQUFjLGdCQUFnQjtBQUM1RSw2QkFBNkIsc0JBQXNCO0FBQ25ELGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QyxvQkFBb0IsaUJBQWlCLFVBQVUsSUFBSTtBQUNuRCxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsY0FBYyxnQkFBZ0I7QUFDMUU7QUFDQTtBQUNBLG1FQUFtRSxpQkFBaUIsVUFBVSxtQkFBbUIsR0FBRztBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLFNBQVMsV0FBVyxjQUFjLGNBQWMsY0FBYyw0Q0FBNEMsb0JBQW9CLDJCQUEyQixpQkFBaUIsa0NBQWtDLGVBQWUsZ0NBQWdDLHFCQUFxQixnQkFBZ0I7QUFDOVc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CLG1CQUFtQjtBQUN6RjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGtEQUFrRCxvQkFBb0IsZUFBZTtBQUNyRjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGtEQUFrRCxvQkFBb0IsbUJBQW1CO0FBQ3pGO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQSxnREFBZ0QsTUFBTTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixjQUFjLFFBQVEsY0FBYyxvQkFBb0I7QUFDaEYsd0JBQXdCLGNBQWMsU0FBUyxjQUFjLG9CQUFvQjtBQUNqRiwyQkFBMkIsY0FBYyxRQUFRLGNBQWMsb0JBQW9CO0FBQ25GLDJCQUEyQixjQUFjLFNBQVMsY0FBYyxvQkFBb0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsNEJBQTRCLEVBQUUsT0FBTyxnQkFBZ0I7QUFDM0gsNkJBQTZCLFdBQVc7QUFDeEM7QUFDQSxvRUFBb0UsU0FBUyxrQkFBa0IsSUFBSSxVQUFVLGtCQUFrQixJQUFJLDZCQUE2QixvQkFBb0IsRUFBRSxvQkFBb0I7QUFDMU07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixJQUFJLGdCQUFnQjtBQUN6QztBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdKQUF3SjtBQUN4SjtBQUNBO0FBQ0Esd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQzs7QUFFOEM7QUFDL0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnlhbmdveWFsL3JlYWwtdGltZS10ZXh0LWVkaXRvci9ub2RlX21vZHVsZXMvdGlwdGFwLWV4dGVuc2lvbi1yZXNpemUtaW1hZ2UvZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbWFnZSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1pbWFnZSc7XG5cbmNvbnN0IEltYWdlUmVzaXplID0gSW1hZ2UuZXh0ZW5kKHtcbiAgICBhZGRBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3JjOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbHQ6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogJ3dpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87IGN1cnNvcjogcG9pbnRlcjsnLFxuICAgICAgICAgICAgICAgIHBhcnNlSFRNTDogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGB3aWR0aDogJHt3aWR0aH1weDsgaGVpZ2h0OiBhdXRvOyBjdXJzb3I6IHBvaW50ZXI7YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtlbGVtZW50LnN0eWxlLmNzc1RleHR9YDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb2FkaW5nOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzcmNzZXQ6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemVzOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcm9zc29yaWdpbjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXNlbWFwOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc21hcDoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2lkdGg6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlaWdodDoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVmZXJyZXJwb2xpY3k6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvbmdkZXNjOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNvZGluZzoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRhYmluZGV4OiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFkZE5vZGVWaWV3KCkge1xuICAgICAgICByZXR1cm4gKHsgbm9kZSwgZWRpdG9yLCBnZXRQb3MgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB2aWV3LCBvcHRpb25zOiB7IGVkaXRhYmxlIH0sIH0gPSBlZGl0b3I7XG4gICAgICAgICAgICBjb25zdCB7IHN0eWxlIH0gPSBub2RlLmF0dHJzO1xuICAgICAgICAgICAgY29uc3QgJHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0ICRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0ICRpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIGNvbnN0IGljb25TdHlsZSA9ICd3aWR0aDogMjRweDsgaGVpZ2h0OiAyNHB4OyBjdXJzb3I6IHBvaW50ZXI7JztcbiAgICAgICAgICAgIGNvbnN0IGRpc3BhdGNoTm9kZVZpZXcgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBnZXRQb3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXR0cnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG5vZGUuYXR0cnMpLCB7IHN0eWxlOiBgJHskaW1nLnN0eWxlLmNzc1RleHR9YCB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldE5vZGVNYXJrdXAoZ2V0UG9zKCksIG51bGwsIG5ld0F0dHJzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhaW50UG9zaXRpb25Db250b2xsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgJHBvc3Rpb25Db250cm9sbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgJGxlZnRDb250cm9sbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgJGNlbnRlckNvbnRyb2xsZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkcmlnaHRDb250cm9sbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbGxlck1vdXNlT3ZlciA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSAwLjM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sbGVyTW91c2VPdXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRwb3N0aW9uQ29udHJvbGxlci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwJTsgbGVmdDogNTAlOyB3aWR0aDogMTAwcHg7IGhlaWdodDogMjVweDsgei1pbmRleDogOTk5OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7IGJvcmRlci1yYWRpdXM6IDRweDsgYm9yZGVyOiAycHggc29saWQgIzZDNkM2QzsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAwIDEwcHg7Jyk7XG4gICAgICAgICAgICAgICAgJGxlZnRDb250cm9sbGVyLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2h0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9pL3Nob3J0LXRlcm0vcmVsZWFzZS9tYXRlcmlhbHN5bWJvbHNvdXRsaW5lZC9mb3JtYXRfYWxpZ25fbGVmdC9kZWZhdWx0LzIwcHguc3ZnJyk7XG4gICAgICAgICAgICAgICAgJGxlZnRDb250cm9sbGVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBpY29uU3R5bGUpO1xuICAgICAgICAgICAgICAgICRsZWZ0Q29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBjb250cm9sbGVyTW91c2VPdmVyKTtcbiAgICAgICAgICAgICAgICAkbGVmdENvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBjb250cm9sbGVyTW91c2VPdXQpO1xuICAgICAgICAgICAgICAgICRjZW50ZXJDb250cm9sbGVyLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2h0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9pL3Nob3J0LXRlcm0vcmVsZWFzZS9tYXRlcmlhbHN5bWJvbHNvdXRsaW5lZC9mb3JtYXRfYWxpZ25fY2VudGVyL2RlZmF1bHQvMjBweC5zdmcnKTtcbiAgICAgICAgICAgICAgICAkY2VudGVyQ29udHJvbGxlci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgaWNvblN0eWxlKTtcbiAgICAgICAgICAgICAgICAkY2VudGVyQ29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBjb250cm9sbGVyTW91c2VPdmVyKTtcbiAgICAgICAgICAgICAgICAkY2VudGVyQ29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGNvbnRyb2xsZXJNb3VzZU91dCk7XG4gICAgICAgICAgICAgICAgJHJpZ2h0Q29udHJvbGxlci5zZXRBdHRyaWJ1dGUoJ3NyYycsICdodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tL3MvaS9zaG9ydC10ZXJtL3JlbGVhc2UvbWF0ZXJpYWxzeW1ib2xzb3V0bGluZWQvZm9ybWF0X2FsaWduX3JpZ2h0L2RlZmF1bHQvMjBweC5zdmcnKTtcbiAgICAgICAgICAgICAgICAkcmlnaHRDb250cm9sbGVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBpY29uU3R5bGUpO1xuICAgICAgICAgICAgICAgICRyaWdodENvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgY29udHJvbGxlck1vdXNlT3Zlcik7XG4gICAgICAgICAgICAgICAgJHJpZ2h0Q29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGNvbnRyb2xsZXJNb3VzZU91dCk7XG4gICAgICAgICAgICAgICAgJGxlZnRDb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkaW1nLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgJHskaW1nLnN0eWxlLmNzc1RleHR9IG1hcmdpbjogMCBhdXRvIDAgMDtgKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hOb2RlVmlldygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRjZW50ZXJDb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkaW1nLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgJHskaW1nLnN0eWxlLmNzc1RleHR9IG1hcmdpbjogMCBhdXRvO2ApO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaE5vZGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHJpZ2h0Q29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJGltZy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYCR7JGltZy5zdHlsZS5jc3NUZXh0fSBtYXJnaW46IDAgMCAwIGF1dG87YCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoTm9kZVZpZXcoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkcG9zdGlvbkNvbnRyb2xsZXIuYXBwZW5kQ2hpbGQoJGxlZnRDb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAkcG9zdGlvbkNvbnRyb2xsZXIuYXBwZW5kQ2hpbGQoJGNlbnRlckNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICAgICRwb3N0aW9uQ29udHJvbGxlci5hcHBlbmRDaGlsZCgkcmlnaHRDb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmFwcGVuZENoaWxkKCRwb3N0aW9uQ29udHJvbGxlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHdyYXBwZXIuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBkaXNwbGF5OiBmbGV4O2ApO1xuICAgICAgICAgICAgJHdyYXBwZXIuYXBwZW5kQ2hpbGQoJGNvbnRhaW5lcik7XG4gICAgICAgICAgICAkY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgJHtzdHlsZX1gKTtcbiAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kQ2hpbGQoJGltZyk7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhub2RlLmF0dHJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICRpbWcuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWVkaXRhYmxlKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbTogJGltZyB9O1xuICAgICAgICAgICAgY29uc3QgaXNNb2JpbGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCA3Njg7XG4gICAgICAgICAgICBjb25zdCBkb3RQb3NpdGlvbiA9IGlzTW9iaWxlID8gJy04cHgnIDogJy00cHgnO1xuICAgICAgICAgICAgY29uc3QgZG90c1Bvc2l0aW9uID0gW1xuICAgICAgICAgICAgICAgIGB0b3A6ICR7ZG90UG9zaXRpb259OyBsZWZ0OiAke2RvdFBvc2l0aW9ufTsgY3Vyc29yOiBud3NlLXJlc2l6ZTtgLFxuICAgICAgICAgICAgICAgIGB0b3A6ICR7ZG90UG9zaXRpb259OyByaWdodDogJHtkb3RQb3NpdGlvbn07IGN1cnNvcjogbmVzdy1yZXNpemU7YCxcbiAgICAgICAgICAgICAgICBgYm90dG9tOiAke2RvdFBvc2l0aW9ufTsgbGVmdDogJHtkb3RQb3NpdGlvbn07IGN1cnNvcjogbmVzdy1yZXNpemU7YCxcbiAgICAgICAgICAgICAgICBgYm90dG9tOiAke2RvdFBvc2l0aW9ufTsgcmlnaHQ6ICR7ZG90UG9zaXRpb259OyBjdXJzb3I6IG53c2UtcmVzaXplO2AsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgbGV0IGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBzdGFydFgsIHN0YXJ0V2lkdGg7XG4gICAgICAgICAgICAkY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgLy9yZW1vdmUgcmVtYWluaW5nIGRvdHMgYW5kIHBvc2l0aW9uIGNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICBjb25zdCBpc01vYmlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8IDc2ODtcbiAgICAgICAgICAgICAgICBpc01vYmlsZSAmJiAoKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlByb3NlTWlycm9yLWZvY3VzZWQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKSk7XG4gICAgICAgICAgICAgICAgaWYgKCRjb250YWluZXIuY2hpbGRFbGVtZW50Q291bnQgPiAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVyLnJlbW92ZUNoaWxkKCRjb250YWluZXIubGFzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYWludFBvc2l0aW9uQ29udG9sbGVyKCk7XG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYHBvc2l0aW9uOiByZWxhdGl2ZTsgYm9yZGVyOiAxcHggZGFzaGVkICM2QzZDNkM7ICR7c3R5bGV9IGN1cnNvcjogcG9pbnRlcjtgKTtcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0sIChfLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICRkb3Quc2V0QXR0cmlidXRlKCdzdHlsZScsIGBwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAke2lzTW9iaWxlID8gMTYgOiA5fXB4OyBoZWlnaHQ6ICR7aXNNb2JpbGUgPyAxNiA6IDl9cHg7IGJvcmRlcjogMS41cHggc29saWQgIzZDNkM2QzsgYm9yZGVyLXJhZGl1czogNTAlOyAke2RvdHNQb3NpdGlvbltpbmRleF19YCk7XG4gICAgICAgICAgICAgICAgICAgICRkb3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRYID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRXaWR0aCA9ICRjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbk1vdXNlTW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gaW5kZXggJSAyID09PSAwID8gLShlLmNsaWVudFggLSBzdGFydFgpIDogZS5jbGllbnRYIC0gc3RhcnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1dpZHRoID0gc3RhcnRXaWR0aCArIGRlbHRhWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVyLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25Nb3VzZVVwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hOb2RlVmlldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICRkb3QuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmNhbmNlbGFibGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0V2lkdGggPSAkY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25Ub3VjaE1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNpemluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhWCA9IGluZGV4ICUgMiA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC0oZS50b3VjaGVzWzBdLmNsaWVudFggLSBzdGFydFgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZS50b3VjaGVzWzBdLmNsaWVudFggLSBzdGFydFg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3V2lkdGggPSBzdGFydFdpZHRoICsgZGVsdGFYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXIuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvblRvdWNoRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hOb2RlVmlldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kQ2hpbGQoJGRvdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCAkdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNDbGlja0luc2lkZSA9ICRjb250YWluZXIuY29udGFpbnMoJHRhcmdldCkgfHwgJHRhcmdldC5zdHlsZS5jc3NUZXh0ID09PSBpY29uU3R5bGU7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NsaWNrSW5zaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclN0eWxlID0gJGNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0eWxlID0gY29udGFpbmVyU3R5bGUgPT09IG51bGwgfHwgY29udGFpbmVyU3R5bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lclN0eWxlLnJlcGxhY2UoJ2JvcmRlcjogMXB4IGRhc2hlZCAjNkM2QzZDOycsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgbmV3U3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJGNvbnRhaW5lci5jaGlsZEVsZW1lbnRDb3VudCA+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci5yZW1vdmVDaGlsZCgkY29udGFpbmVyLmxhc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZG9tOiAkd3JhcHBlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfSxcbn0pO1xuXG5leHBvcnQgeyBJbWFnZVJlc2l6ZSwgSW1hZ2VSZXNpemUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/tiptap-extension-resize-image/esm/index.js\n");

/***/ })

};
;